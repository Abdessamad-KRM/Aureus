<?xml version="1.0" encoding="utf-8"?>
<!--
    Data Extraction Rules - Phase Correction Sécurité - Phase 1

    Principe: Bloquer l'extraction automatique de données sensibles
    lors du transfert d'appareil ou backup manuel
-->
<data-extraction-rules>
    <cloud-backup>
        <!-- ✅ INCLUS: Settings UI (thème, langue, onboarding) -->
        <include domain="sharedpref" path="*theme*"/>
        <include domain="sharedpref" path="*language*"/>
        <include domain="sharedpref" path="*onboarding*"/>

        <!-- ❌ EXCLUS: Toutes les données sensibles -->
        <exclude domain="sharedpref" path="secure_storage.xml"/>
        <exclude domain="sharedpref" path="secure_credentials.xml"/>
        <exclude domain="sharedpref" path="*token*"/>
        <exclude domain="sharedpref" path="*pin*"/>
        <exclude domain="sharedpref" path="*password*"/>
    </cloud-backup>

    <device-transfer>
        <!-- ✅ INCLUS: Settings UI uniquement -->
        <include domain="sharedpref" path="*theme*"/>
        <include domain="sharedpref" path="*language*"/>

        <!-- ❌ EXCLUS: Toutes les données sensibles -->
        <exclude domain="sharedpref" path="secure_storage.xml"/>
        <exclude domain="sharedpref" path="secure_credentials.xml"/>
        <exclude domain="database" path="*.db"/>
        <exclude domain="file" path="*credential*"/>
    </device-transfer>
</data-extraction-rules>